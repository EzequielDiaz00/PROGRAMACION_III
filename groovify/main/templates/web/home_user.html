<!DOCTYPE html>
<html lang="es">
{% load static %}

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Groovify - Plataforma de Música</title>
  <link rel="stylesheet" href="{% static 'css/css2.css' %}">
</head>

<body>
  <!-- Barra de navegación -->
  <header class="navbar">
    <div class="logo">
      <br>
      <h1>Groovify</h1>
      <br>
    </div>
    <nav>
      <ul>
        <li><a href="#">Inicio</a></li>
        <li><a href="#">Buscar</a></li>
        <li><a href="#">Mis Listas</a></li>
        <li><a href="#">Perfil</a></li>
      </ul>
    </nav>
  </header>

  <!-- Sección principal -->
  <main>
    <!-- Sección de la lista de canciones y reproductor en paralelo -->
    <section id="main" class="featured-song-player">
      <section class="featured-song">
        <h2>Lista de Canciones</h2>
        <ul class="song-list">
          {% for file in audio_files %}
          <li class="song-item" data-file="{% static 'audio/' %}{{ file }}">
            {{ file|slice:":-4" }} <!-- Muestra el nombre sin la extensión -->
          </li>
          {% endfor %}
        </ul>
      </section>

      <section id="equalizer" class="equalizer">
        <h2>Ecualizador</h2>
        <div class="controls">
          <div>
            <label for="bass">Bass</label>
            <input id="bass" type="range" min="-30" max="30" value="0">
          </div>
          <div>
            <label for="mid-low">Mid-Low</label>
            <input id="mid-low" type="range" min="-30" max="30" value="0" style="margin-right: 25px;">
          </div>
          <div>
            <label for="mid" style="margin-left: 10px;">Mid</label>
            <input id="mid" type="range" min="-30" max="30" value="0">
          </div>
          <div>
            <label for="mid-high">Mid-High</label>
            <input id="mid-high" type="range" min="-30" max="30" value="0" style="margin-right: 29px;">
          </div>
          <div>
            <label for="treble">Treble</label>
            <input id="treble" type="range" min="-30" max="30" value="0" style="margin-right: 9px;">
          </div>
        </div>
        <canvas id="audioVisualizer" width="225" height="50"></canvas>
      </section>

      <!-- Reproductor a la par de la lista de canciones -->
      <section id="player" class="player">
        <img src="{% static 'img/logo-player-100.jpg' %}" alt="portada-song" class="portada-song">
        <div id="player_controls" class="player-controls">
          <button id="player_back">⏮️</button>
          <button id="player_play">▶️</button>
          <button id="player_pause">⏸</button>
          <button id="player_stop">⏹️</button>
          <button id="player_skip">⏭️</button>
        </div>
        <div id="song_info" class="song-info">
          <p>Selecciona una canción para reproducir</p>
        </div>
        <input id="progressbarSong" type="range" min="0" max="100" value="0" class="progress-bar">
      </section>
    </section>

    <!-- Sección de géneros musicales y artistas en paralelo -->
    <section class="featured-genere-artist">
      <section class="featured-artist">
        <h2>Artistas</h2>
        <ul class="artist-list">
          <li class="artist-item">Avicii</li>
        </ul>
      </section>

      <section class="featured-genere">
        <h2>Generos musicales</h2>
        <ul class="genere-list">
          <li class="genere-item">EDM</li>
          <li class="genere-item">Reggaeton</li>
          <li class="genere-item">Cumbia</li>
          <li class="genere-item">Rap</li>
          <li class="genere-item">Hip-Hop</li>
        </ul>
      </section>
    </section>
  </main>

  <!-- Script -->
  <script>
    const playlist = [];
    document.querySelectorAll('.song-item').forEach(item => {
      playlist.push(item.dataset.file); // Agrega las rutas a la lista de reproducción
    });
  </script>
  <script src="{% static 'js/dashboardUser.js' %}"></script>

  <footer>
    <p>&copy; 2024 Groovify. Todos los derechos reservados.</p>
  </footer>
</body>

</html>